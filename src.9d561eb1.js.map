{"version":3,"sources":["src/index.js"],"names":["studentsArr","saveButton","document","querySelector","addButton","studentForm","getElementById","studentsGroup","downloadBtn","table","formCleaner","value","noteForUser","length","classList","add","remove","updateNumbers","querySelectorAll","forEach","row","index","textContent","renderTable","source","innerHTML","trim","template","Handlebars","compile","map","student","join","editElement","id","elementId","Number","find","s","number","firstName","lastName","age","course","faculty","studentCourses","onclick","findIndex","console","error","concat","deleteElement","splice","log","downloadJSON","filename","jsonData","blob","Blob","type","url","URL","createObjectURL","a","createElement","href","download","body","appendChild","click","removeChild","revokeObjectURL","addEventListener","event","preventDefault","studentData","push","target","reset","editButton","closest","deleteBtn","jsonStudents","JSON","stringify","parseDataStudents","parse","Array","isArray","alert"],"mappings":"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","file":"src.9d561eb1.js","sourceRoot":"..","sourcesContent":["const studentsArr = []; \nconst saveButton = document.querySelector('.students-form__button--save');\nconst addButton = document.querySelector('.students-form__button--add');\nconst studentForm = document.getElementById('students-form');\nconst studentsGroup = document.getElementById(\"students-table__body\");\nconst downloadBtn = document.querySelector(\".students-table__download-btn\");\nconst table = document.querySelector(\".students-table\");\n\nfunction formCleaner() {\n    document.getElementById('first-name').value = \"\";\n    document.getElementById('last-name').value = \"\";\n    document.getElementById('age').value = \"\";\n    document.getElementById('course').value = \"\";\n    document.getElementById('faculty').value = \"\";\n    document.getElementById('student-courses').value = \"\";\n}\n\nfunction noteForUser() {\n    if (studentsArr.length > 0) {\n        table.classList.add(\"disable\");\n    } else if (studentsArr.length === 0) {\n        table.classList.remove(\"disable\");\n    }\n}\n\nfunction updateNumbers() {\n    document.querySelectorAll(\"#students-table__body .students-table__body-tr\").forEach((row, index) => {\n        row.querySelector(\".students-table__body-td--number\").textContent = index + 1;\n    });\n}\n\nstudentForm.addEventListener('submit', function(event) {\n    event.preventDefault();\n    \n    const studentData = {\n        number: studentsArr.length + 1,\n        firstName: document.getElementById('first-name').value,\n        lastName: document.getElementById('last-name').value,\n        age: document.getElementById('age').value,\n        course: document.getElementById('course').value,\n        faculty: document.getElementById('faculty').value,\n        studentCourses: document.getElementById('student-courses').value\n    };\n\n    studentsArr.push(studentData);\n    renderTable();\n    event.target.reset();\n    updateNumbers();  \n    noteForUser();  \n});\n\nfunction renderTable() {\n    const source = document.getElementById('students-table__body-template').innerHTML.trim();\n    const template = Handlebars.compile(source);\n\n    studentsGroup.innerHTML = studentsArr.map(student => template(student)).join('');\n}\n\nfunction editElement(id) {\n    let elementId = Number(id);\n    const student = studentsArr.find(s => s.number === elementId);\n    \n    if (!student) {\n        console.error(`Студент з ID ${id} не знайдений`);\n        return;\n    }\n\n    document.getElementById('first-name').value = student.firstName;\n    document.getElementById('last-name').value = student.lastName;\n    document.getElementById('age').value = student.age;\n    document.getElementById('course').value = student.course;\n    document.getElementById('faculty').value = student.faculty;\n    document.getElementById('student-courses').value = student.studentCourses;\n    \n    saveButton.onclick = function() {\n        const index = studentsArr.findIndex(s => s.number === elementId);\n        \n        if (index !== -1) {\n            studentsArr[index] = {\n                number: elementId,\n                firstName: document.getElementById('first-name').value,\n                lastName: document.getElementById('last-name').value,\n                age: document.getElementById('age').value,\n                course: document.getElementById('course').value,\n                faculty: document.getElementById('faculty').value,\n                studentCourses: document.getElementById('student-courses').value\n            };\n            renderTable();\n        }\n        saveButton.classList.remove('active');\n        addButton.classList.remove('disable');\n        studentForm.classList.remove('active');\n        formCleaner();\n        updateNumbers();\n        noteForUser();\n    };\n}\n\nfunction deleteElement(id) {\n    let elementId = Number(id);\n    const index = studentsArr.findIndex(s => s.number === elementId);\n\n    if (index !== -1) {\n        studentsArr.splice(index, 1);\n        console.log(`Студент з ID ${elementId} видалений`);\n        renderTable();\n    }\n    updateNumbers();\n    noteForUser();\n}\n\ndocument.getElementById(\"students-table__body\").addEventListener('click', (event) => {\n    const editButton = event.target.closest('.students-table__body-btn--edit');\n    const deleteBtn = event.target.closest('.students-table__body-btn--delete');\n\n    if (editButton) {\n        editElement(editButton.id);\n        saveButton.classList.add('active');\n        addButton.classList.add('disable');\n        studentForm.classList.add('active');\n    } else if (deleteBtn) {\n        deleteElement(deleteBtn.id);\n    }\n});\n\n// JSON\n\nfunction downloadJSON(filename, jsonData) {\n    const blob = new Blob([jsonData], { type: \"application/json\" });\n    const url = URL.createObjectURL(blob);\n    const a = document.createElement(\"a\");\n    a.href = url;\n    a.download = filename;\n    document.body.appendChild(a); \n\n    a.click();\n    document.body.removeChild(a);\n    URL.revokeObjectURL(url); \n}\n\ndownloadBtn.addEventListener(\"click\", () => {\n    if (studentsArr.length > 0) {\n        const jsonStudents = JSON.stringify(studentsArr, null, 2);\n        downloadJSON(\"Students.json\", jsonStudents);\n        try {\n            const parseDataStudents = JSON.parse(jsonStudents);\n            console.log(\"JSON students is valid:\", Array.isArray(parseDataStudents));\n        } catch (error) {\n            console.error(\"Invalid JSON:\", error);\n        }\n    } else {\n        alert(\"You don't have students yet!\");\n    }\n});\n"]}